<button [popper]="popperContent" [popperPlacement]="NgxPopperjsPlacements.BOTTOMSTART">
    <i class="far fa-shopping-cart icon"></i>
</button>

<popper-content #popperContent>
    <div class="container">
        <div class="items">
            <div class="no-game" *ngIf="cartService.cartGames.length === 0">
                <i class="fa-regular fa-folder-open"></i>
                <h3>سبد خریدتون خالیه</h3>
            </div>

            <div class="item" *ngFor="let game of cartService.cartGames">
                <img [src]="'thumb' | imageSource: game.cover.id" alt="" />

                <h2>
                    <a [routerLink]="'/game/' + game.id">{{ game.name }}</a>
                </h2>

                <button (click)="cartService.removeFromList(game.id)">
                    <i class="far fa-xmark"></i>
                </button>
            </div>
        </div>

        <ng-container *ngIf="authService.isUserLoggedIn; else notLoggedIn">
            <button class="shopping-cart" routerLink="/profile">سبد خرید</button>
        </ng-container>

        <ng-template #notLoggedIn>
            <a routerLink="/login" class="auth">
                <i class="far fa-arrow-right-to-bracket"></i>
                <span>ثبت‌نام | ورود</span>
            </a>
        </ng-template>
    </div>
</popper-content>
